import{M as y,r as h,a as _,s,e as w,f as m,g as c,q as e,k as a,t as d,D as u,m as p,O as v,B as n,J as r,i as k,j as V,Q as T}from"./index-BWaPwz3E.js";const q={class:"flex min-h-full flex-1 flex-col justify-center px-6 py-12 lg:px-8"},U={class:"sm:mx-auto sm:w-full sm:max-w-sm"},M=e("h2",{class:"mt-10 text-center text-xl sm:text-2xl font-bold leading-9 tracking-tight text-gray-900"},"Регистрация",-1),j={key:0,class:"justify-center message mt-8 -mb-8 text-base font-bold text-red-500 flex items-center gap-2"},P=e("i",{class:"bi bi-x-octagon"},null,-1),B={key:1,class:"justify-center message mt-8 -mb-8 text-base font-bold text-lime-400 flex items-center gap-2"},D=e("i",{class:"bi bi-check-circle"},null,-1),N={class:"mt-10 sm:mx-auto sm:w-full sm:max-w-xl"},C={class:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-8"},O=e("label",{for:"name",class:"block text-sm font-medium leading-6 text-gray-900"}," Имя ",-1),R={class:"mt-2"},S=e("label",{for:"surname",class:"block text-sm font-medium leading-6 text-gray-900"}," Фамилия ",-1),A={class:"mt-2"},L=e("label",{for:"email",class:"block text-sm font-medium leading-6 text-gray-900"}," Эл. адрес ",-1),E={class:"mt-2"},I=e("label",{for:"phone",class:"block text-sm font-medium leading-6 text-gray-900"}," Телефон ",-1),J={class:"mt-2"},Q=e("label",{for:"password",class:"block text-sm font-medium leading-6 text-gray-900"}," Пароль ",-1),z={class:"mt-2"},F=e("label",{for:"confirmPassword",class:"block text-sm font-medium leading-6 text-gray-900"}," Подтвердите пароль ",-1),G={class:"mt-2"},H={class:"flex justify-center"},K=["disabled"],W={class:"mt-10 text-center text-sm text-gray-500"},Z={__name:"RegisterView",setup(X){const t=y({name:"",surname:"",email:"",phone:"",password:""}),i=h(""),f=async()=>{if(s.clearMessages(),t.password!==i.value){s.errorText="Пароли не совпадают";return}try{s.loading=!0,await T(t),s.successText="Регистрация прошла успешно"}catch(x){s.errorText="Пользователь уже существует",console.error("An error accured: ",x.message)}finally{g(),s.loading=!1}},g=()=>{t.name="",t.surname="",t.email="",t.phone="",t.password="",i.value=""};return _(()=>{s.clearMessages(),g()}),(x,o)=>{const b=w("RouterLink");return m(),c("div",q,[e("div",U,[M,a(s).errorText!==""?(m(),c("div",j,[P,d(" "+u(a(s).errorText),1)])):p("",!0),a(s).successText!==""?(m(),c("div",B,[D,d(" "+u(a(s).successText),1)])):p("",!0)]),e("div",N,[e("form",{onSubmit:v(f,["prevent"]),method:"POST"},[e("div",C,[e("div",null,[O,e("div",R,[n(e("input",{"onUpdate:modelValue":o[0]||(o[0]=l=>t.name=l),id:"name",name:"name",type:"text",required:"",class:"px-3.5 block w-full border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6 focus:outline-none"},null,512),[[r,t.name]])])]),e("div",null,[S,e("div",A,[n(e("input",{"onUpdate:modelValue":o[1]||(o[1]=l=>t.surname=l),id:"surname",name:"surname",type:"text",required:"",class:"px-3.5 block w-full border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6 focus:outline-none"},null,512),[[r,t.surname]])])]),e("div",null,[L,e("div",E,[n(e("input",{"onUpdate:modelValue":o[2]||(o[2]=l=>t.email=l),id:"email",name:"email",type:"email",autocomplete:"email",required:"",class:"px-3.5 block w-full border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6 focus:outline-none"},null,512),[[r,t.email]])])]),e("div",null,[I,e("div",J,[n(e("input",{"onUpdate:modelValue":o[3]||(o[3]=l=>t.phone=l),id:"phone",name:"phone",type:"tel",required:"",class:"px-3.5 block w-full border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6 focus:outline-none"},null,512),[[r,t.phone]])])]),e("div",null,[Q,e("div",z,[n(e("input",{"onUpdate:modelValue":o[4]||(o[4]=l=>t.password=l),id:"password",name:"password",type:"password",autocomplete:"off",required:"",class:"px-3.5 block w-full border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6 focus:outline-none"},null,512),[[r,t.password]])])]),e("div",null,[F,e("div",G,[n(e("input",{"onUpdate:modelValue":o[5]||(o[5]=l=>i.value=l),id:"confirmPassword",name:"confirmPassword",type:"password",autocomplete:"off",required:"",class:"px-3.5 block w-full border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6 focus:outline-none"},null,512),[[r,i.value]])])])]),e("div",H,[e("button",{disabled:!!a(s).loading,type:"submit",class:"sm:w-full sm:max-w-sm text-center border transition border-black bg-white px-3 py-1.5 text-sm font-semibold leading-6 text-black shadow-sm hover:bg-black hover:text-white focus-visible:outline focus-visible:outline-1 focus-visible:outline-offset-2"},u(a(s).loading?"Загрузка":"Зарегистрироваться"),9,K)])],32),e("p",W,[d(" Уже есть аккаунт? "),k(b,{to:"/login",class:"font-semibold leading-6 text-orange-400 hover:text-orange-600"},{default:V(()=>[d(" Войти ")]),_:1})])])])}}};export{Z as default};
