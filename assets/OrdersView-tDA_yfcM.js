import{f as s,g as l,q as e,D as c,t as d,F as _,v as m,l as u,r as g,a as h,s as n,T as f,k as p}from"./index-BWaPwz3E.js";import{_ as b}from"./EmptyInfoBlock-DqJasZVP.js";const v={class:"grid sm:grid-cols-2 grid-cols-3 border border-t-0"},y={class:"p-3 flex flex-col sm:flex-row sm:items-center sm:col-span-1 col-span-2 gap-3"},x={class:"w-16 h-16"},$=["src","alt"],k={class:"p-3 flex items-center"},w={__name:"OrderProduct",props:{imageUrl:String,title:String,quantity:Number,price:Number},setup(t){return(a,r)=>(s(),l("div",v,[e("div",y,[e("div",x,[e("img",{class:"w-full h-full",src:t.imageUrl,alt:t.title},null,8,$)]),e("div",null,c(t.title+" - "+t.quantity)+" шт.",1)]),e("div",k,c(t.price*t.quantity)+" ₽",1)]))}},q={class:"mt-5"},I={class:"bg-yellow-300"},N={class:"bg-yellow-300"},B=e("span",{class:"bg-yellow-300"},"Обработка.",-1),D=e("div",{class:"mb-5"},"Информация о заказе:",-1),O=e("div",{class:"grid sm:grid-cols-2 grid-cols-3 border"},[e("div",{class:"font-bold p-3 sm:col-span-1 col-span-2"},"Товар"),e("div",{class:"font-bold p-3"},"Итого")],-1),P={class:"grid sm:grid-cols-2 grid-cols-3 border border-t-0"},S=e("div",{class:"font-bold p-3 sm:col-span-1 col-span-2"},"Итого",-1),U={class:"font-bold p-3"},V={__name:"OrderItem",props:{orderId:Number,orderDate:String,totalPrice:Number,orderItems:Array},setup(t){return(a,r)=>(s(),l("div",null,[e("h4",q,[d(" Заказ № "),e("span",I,c(t.orderId),1),d(" был оформлен "),e("span",N,c(t.orderDate),1),d(" и находится в статусе "),B]),D,O,(s(!0),l(_,null,m(t.orderItems,o=>(s(),u(w,{key:o.id,"image-url":o.imageUrl,title:o.title,quantity:o.quantity,price:o.price},null,8,["image-url","title","quantity","price"]))),128)),e("div",P,[S,e("div",U,c(t.totalPrice)+" ₽",1)])]))}},E={class:"my-10"},F={class:"container"},T={key:0,class:"text-2xl font-bold"},M={__name:"OrdersView",setup(t){const a=g([]);return h(async()=>{if(n.signedIn)try{n.loading=!0;const{data:r}=await f();a.value=r}catch(r){console.error("Error: ",r.message)}finally{n.loading=!1}}),(r,o)=>(s(),l("div",E,[e("div",F,[a.value.length>0||p(n).loading?(s(),l("h1",T,"Мои заказы")):(s(),u(b,{key:1,title:"Вы ничего не заказывали","sub-title":"Вы нищеброд? Сделайте хотя бы один заказ."})),(s(!0),l(_,null,m(a.value,i=>(s(),u(V,{key:i.id,"order-id":i.id,"order-date":i.order_date,"total-price":i.totalPrice,"order-items":i.items},null,8,["order-id","order-date","total-price","order-items"]))),128))])]))}};export{M as default};
