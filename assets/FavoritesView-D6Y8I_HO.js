import{b as c,u as m,a as u,P as _}from"./useRemoveFromFavorites-SRwro6lz.js";import{_ as g}from"./EmptyInfoBlock-DqJasZVP.js";import{a as v,s as e,u as f,f as r,g as i,q as d,k as t,l,F as p,v as h}from"./index-BWaPwz3E.js";const F={class:"mt-10 relative"},k={class:"container"},y={class:"h-fit"},x={key:0,class:"text-2xl font-bold"},A={class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 sm:gap-1 -mx-2 mt-5"},b={__name:"FavoritesView",setup(B){return v(async()=>{if(e.products=[],e.signedIn){e.loading=!0;try{const{data:a}=await c();e.products=a.map(o=>(o.product.favoriteId=o.id,o.product)),f()}catch(a){console.error("Error: ",a.message)}finally{e.loading=!1}}}),(a,o)=>(r(),i("div",F,[d("div",k,[d("div",y,[t(e).products.length>0||t(e).loading?(r(),i("h1",x," Избранное ")):(r(),l(g,{key:1,title:"В избранном пусто","sub-title":"Вы ничего не добавляли в Избранное"})),d("div",A,[(r(!0),i(p,null,h(t(e).products,s=>(r(),l(_,{key:s.id,title:s.title,price:s.price,"old-price":s.oldPrice,"image-url":s.imageUrl,"is-added":s.isAdded,"is-favorite":!0,onOnClickAdd:n=>t(m)(s,t(e).cart),onRemoveFromFavorites:n=>t(u)(s,!0)},null,8,["title","price","old-price","image-url","is-added","onOnClickAdd","onRemoveFromFavorites"]))),128))])])])]))}};export{b as default};
