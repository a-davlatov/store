import{x as ze,y as $e,r as kt,z as Qt,A as ue,a as ce,w as at,f as vt,g as Ct,q as D,F as Dt,v as qe,B as Ot,C as Fr,k as ut,D as se,s as P,E as ne,G as Rt,d as St,H as Br,I as He,l as Xt,m as de,J as Fe,i as Be,p as Lr,u as Le}from"./index-BWaPwz3E.js";import{u as Or,a as jr,P as Dr}from"./useRemoveFromFavorites-SRwro6lz.js";import{b as Oe,u as je,a as Tr}from"./products-BBNqeRot.js";const zr=D("h2",{class:"text-xl mb-5 mt-8"},"Бренд",-1),$r={class:"mt-4"},qr=["value"],Hr={class:"flex gap-1.5"},Rr={class:"text-sm text-slate-400"},Ir={__name:"FiltersBrands",props:ze(["getProductsBrands"],{rangeValues:{},rangeValuesModifiers:{},productsBrands:{},productsBrandsModifiers:{}}),emits:["update:rangeValues","update:productsBrands"],setup(k){const S=$e(),d=kt([]),M=Qt(k,"rangeValues"),C=Qt(k,"productsBrands"),{getProductsBrands:N}=k,V=ue("fetchProducts"),A=()=>{const U=setInterval(()=>{P.loading===!1&&(C.value=N(),clearTimeout(U))},300)};return ce(()=>{C.value=N(),A()}),at(()=>S.params.category,()=>{d.value=[],A()}),(U,w)=>(vt(),Ct(Dt,null,[zr,D("div",$r,[(vt(!0),Ct(Dt,null,qe(C.value,(L,j)=>(vt(),Ct("label",{class:"flex gap-2 items-center cursor-pointer",key:j},[Ot(D("input",{type:"checkbox",value:L[0],"onUpdate:modelValue":w[0]||(w[0]=z=>d.value=z),onChange:w[1]||(w[1]=z=>ut(V)(M.value[0],M.value[1],d.value))},null,40,qr),[[Fr,d.value]]),D("div",Hr,[D("span",null,se(L[0]),1),D("span",Rr,"("+se(L[1])+")",1)])]))),128))])],64))}},Qr=D("h2",{class:"text-xl mb-3 mt-2"},"Сортировка",-1),Xr=D("label",{for:"sortBy_name",class:"block cursor-pointer"}," По названию ",-1),Yr=D("label",{for:"sortBy_price",class:"block cursor-pointer mt-1"}," Цены: по возрастанию ",-1),Gr=D("label",{for:"sortBy_price_desc",class:"block cursor-pointer mt-1"}," Цены: по убыванию ",-1),Jr={__name:"FiltersSort",setup(k){const S=ue("fetchProducts");return at(()=>P.filters.sortBy,()=>{S()}),(d,M)=>(vt(),Ct(Dt,null,[Qr,Ot(D("input",{class:"hidden",type:"radio",value:"title","onUpdate:modelValue":M[0]||(M[0]=C=>ut(P).filters.sortBy=C),id:"sortBy_name"},null,512),[[ne,ut(P).filters.sortBy]]),Xr,Ot(D("input",{class:"hidden",type:"radio",value:"price","onUpdate:modelValue":M[1]||(M[1]=C=>ut(P).filters.sortBy=C),id:"sortBy_price"},null,512),[[ne,ut(P).filters.sortBy]]),Yr,Ot(D("input",{class:"hidden",type:"radio",value:"-price","onUpdate:modelValue":M[2]||(M[2]=C=>ut(P).filters.sortBy=C),id:"sortBy_price_desc"},null,512),[[ne,ut(P).filters.sortBy]]),Gr],64))}};function It(k){return[null,void 0,!1].indexOf(k)!==-1}function Wr(k){return k&&k.__esModule&&Object.prototype.hasOwnProperty.call(k,"default")?k.default:k}function Re(k){var S={exports:{}};return k(S,S.exports),S.exports}var De=Re(function(k,S){k.exports=function(){var d=["decimals","thousand","mark","prefix","suffix","encoder","decoder","negativeBefore","negative","edit","undo"];function M(c){return c.split("").reverse().join("")}function C(c,h){return c.substring(0,h.length)===h}function N(c,h){return c.slice(-1*h.length)===h}function V(c,h,m){if((c[h]||c[m])&&c[h]===c[m])throw new Error(h)}function A(c){return typeof c=="number"&&isFinite(c)}function U(c,h){return c=c.toString().split("e"),(+((c=(c=Math.round(+(c[0]+"e"+(c[1]?+c[1]+h:h)))).toString().split("e"))[0]+"e"+(c[1]?+c[1]-h:-h))).toFixed(h)}function w(c,h,m,F,_,bt,yt,q,ct,tt,I,b){var gt,H,dt,mt=b,nt="",E="";return bt&&(b=bt(b)),!!A(b)&&(c!==!1&&parseFloat(b.toFixed(c))===0&&(b=0),b<0&&(gt=!0,b=Math.abs(b)),c!==!1&&(b=U(b,c)),(b=b.toString()).indexOf(".")!==-1?(dt=(H=b.split("."))[0],m&&(nt=m+H[1])):dt=b,h&&(dt=M(dt).match(/.{1,3}/g),dt=M(dt.join(M(h)))),gt&&q&&(E+=q),F&&(E+=F),gt&&ct&&(E+=ct),E+=dt,E+=nt,_&&(E+=_),tt&&(E=tt(E,mt)),E)}function L(c,h,m,F,_,bt,yt,q,ct,tt,I,b){var gt,H="";return I&&(b=I(b)),!(!b||typeof b!="string")&&(q&&C(b,q)&&(b=b.replace(q,""),gt=!0),F&&C(b,F)&&(b=b.replace(F,"")),ct&&C(b,ct)&&(b=b.replace(ct,""),gt=!0),_&&N(b,_)&&(b=b.slice(0,-1*_.length)),h&&(b=b.split(h).join("")),m&&(b=b.replace(m,".")),gt&&(H+="-"),(H=(H+=b).replace(/[^0-9\.\-.]/g,""))!==""&&(H=Number(H),yt&&(H=yt(H)),!!A(H)&&H))}function j(c){var h,m,F,_={};for(c.suffix===void 0&&(c.suffix=c.postfix),h=0;h<d.length;h+=1)if((F=c[m=d[h]])===void 0)m!=="negative"||_.negativeBefore?m==="mark"&&_.thousand!=="."?_[m]=".":_[m]=!1:_[m]="-";else if(m==="decimals"){if(!(F>=0&&F<8))throw new Error(m);_[m]=F}else if(m==="encoder"||m==="decoder"||m==="edit"||m==="undo"){if(typeof F!="function")throw new Error(m);_[m]=F}else{if(typeof F!="string")throw new Error(m);_[m]=F}return V(_,"mark","thousand"),V(_,"prefix","negative"),V(_,"prefix","negativeBefore"),_}function z(c,h,m){var F,_=[];for(F=0;F<d.length;F+=1)_.push(c[d[F]]);return _.push(m),h.apply("",_)}function G(c){if(!(this instanceof G))return new G(c);typeof c=="object"&&(c=j(c),this.to=function(h){return z(c,w,h)},this.from=function(h){return z(c,L,h)})}return G}()}),Kr=Wr(Re(function(k,S){(function(d){function M(r){return C(r)&&typeof r.from=="function"}function C(r){return typeof r=="object"&&typeof r.to=="function"}function N(r){r.parentElement.removeChild(r)}function V(r){return r!=null}function A(r){r.preventDefault()}function U(r){return r.filter(function(t){return!this[t]&&(this[t]=!0)},{})}function w(r,t){return Math.round(r/t)*t}function L(r,t){var n=r.getBoundingClientRect(),f=r.ownerDocument,l=f.documentElement,g=bt(f);return/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(g.x=0),t?n.top+g.y-l.clientTop:n.left+g.x-l.clientLeft}function j(r){return typeof r=="number"&&!isNaN(r)&&isFinite(r)}function z(r,t,n){n>0&&(m(r,t),setTimeout(function(){F(r,t)},n))}function G(r){return Math.max(Math.min(r,100),0)}function c(r){return Array.isArray(r)?r:[r]}function h(r){var t=(r=String(r)).split(".");return t.length>1?t[1].length:0}function m(r,t){r.classList&&!/\s/.test(t)?r.classList.add(t):r.className+=" "+t}function F(r,t){r.classList&&!/\s/.test(t)?r.classList.remove(t):r.className=r.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")}function _(r,t){return r.classList?r.classList.contains(t):new RegExp("\\b"+t+"\\b").test(r.className)}function bt(r){var t=window.pageXOffset!==void 0,n=(r.compatMode||"")==="CSS1Compat";return{x:t?window.pageXOffset:n?r.documentElement.scrollLeft:r.body.scrollLeft,y:t?window.pageYOffset:n?r.documentElement.scrollTop:r.body.scrollTop}}function yt(){return window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"}}function q(){var r=!1;try{var t=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("test",null,t)}catch{}return r}function ct(){return window.CSS&&CSS.supports&&CSS.supports("touch-action","none")}function tt(r,t){return 100/(t-r)}function I(r,t,n){return 100*t/(r[n+1]-r[n])}function b(r,t){return I(r,r[0]<0?t+Math.abs(r[0]):t-r[0],0)}function gt(r,t){return t*(r[1]-r[0])/100+r[0]}function H(r,t){for(var n=1;r>=t[n];)n+=1;return n}function dt(r,t,n){if(n>=r.slice(-1)[0])return 100;var f=H(n,r),l=r[f-1],g=r[f],O=t[f-1],W=t[f];return O+b([l,g],n)/tt(O,W)}function mt(r,t,n){if(n>=100)return r.slice(-1)[0];var f=H(n,t),l=r[f-1],g=r[f],O=t[f-1];return gt([l,g],(n-O)*tt(O,t[f]))}function nt(r,t,n,f){if(f===100)return f;var l=H(f,r),g=r[l-1],O=r[l];return n?f-g>(O-g)/2?O:g:t[l-1]?r[l-1]+w(f-r[l-1],t[l-1]):f}var E,rt;d.PipsMode=void 0,(rt=d.PipsMode||(d.PipsMode={})).Range="range",rt.Steps="steps",rt.Positions="positions",rt.Count="count",rt.Values="values",d.PipsType=void 0,(E=d.PipsType||(d.PipsType={}))[E.None=-1]="None",E[E.NoValue=0]="NoValue",E[E.LargeValue=1]="LargeValue",E[E.SmallValue=2]="SmallValue";var At=function(){function r(t,n,f){var l;this.xPct=[],this.xVal=[],this.xSteps=[],this.xNumSteps=[],this.xHighestCompleteStep=[],this.xSteps=[f||!1],this.xNumSteps=[!1],this.snap=n;var g=[];for(Object.keys(t).forEach(function(O){g.push([c(t[O]),O])}),g.sort(function(O,W){return O[0][0]-W[0][0]}),l=0;l<g.length;l++)this.handleEntryPoint(g[l][1],g[l][0]);for(this.xNumSteps=this.xSteps.slice(0),l=0;l<this.xNumSteps.length;l++)this.handleStepPoint(l,this.xNumSteps[l])}return r.prototype.getDistance=function(t){for(var n=[],f=0;f<this.xNumSteps.length-1;f++)n[f]=I(this.xVal,t,f);return n},r.prototype.getAbsoluteDistance=function(t,n,f){var l,g=0;if(t<this.xPct[this.xPct.length-1])for(;t>this.xPct[g+1];)g++;else t===this.xPct[this.xPct.length-1]&&(g=this.xPct.length-2);f||t!==this.xPct[g+1]||g++,n===null&&(n=[]);var O=1,W=n[g],Q=0,wt=0,ot=0,y=0;for(l=f?(t-this.xPct[g])/(this.xPct[g+1]-this.xPct[g]):(this.xPct[g+1]-t)/(this.xPct[g+1]-this.xPct[g]);W>0;)Q=this.xPct[g+1+y]-this.xPct[g+y],n[g+y]*O+100-100*l>100?(wt=Q*l,O=(W-100*l)/n[g+y],l=1):(wt=n[g+y]*Q/100*O,O=0),f?(ot-=wt,this.xPct.length+y>=1&&y--):(ot+=wt,this.xPct.length-y>=1&&y++),W=n[g+y]*O;return t+ot},r.prototype.toStepping=function(t){return t=dt(this.xVal,this.xPct,t)},r.prototype.fromStepping=function(t){return mt(this.xVal,this.xPct,t)},r.prototype.getStep=function(t){return t=nt(this.xPct,this.xSteps,this.snap,t)},r.prototype.getDefaultStep=function(t,n,f){var l=H(t,this.xPct);return(t===100||n&&t===this.xPct[l-1])&&(l=Math.max(l-1,1)),(this.xVal[l]-this.xVal[l-1])/f},r.prototype.getNearbySteps=function(t){var n=H(t,this.xPct);return{stepBefore:{startValue:this.xVal[n-2],step:this.xNumSteps[n-2],highestStep:this.xHighestCompleteStep[n-2]},thisStep:{startValue:this.xVal[n-1],step:this.xNumSteps[n-1],highestStep:this.xHighestCompleteStep[n-1]},stepAfter:{startValue:this.xVal[n],step:this.xNumSteps[n],highestStep:this.xHighestCompleteStep[n]}}},r.prototype.countStepDecimals=function(){var t=this.xNumSteps.map(h);return Math.max.apply(null,t)},r.prototype.hasNoSize=function(){return this.xVal[0]===this.xVal[this.xVal.length-1]},r.prototype.convert=function(t){return this.getStep(this.toStepping(t))},r.prototype.handleEntryPoint=function(t,n){var f;if(!j(f=t==="min"?0:t==="max"?100:parseFloat(t))||!j(n[0]))throw new Error("noUiSlider: 'range' value isn't numeric.");this.xPct.push(f),this.xVal.push(n[0]);var l=Number(n[1]);f?this.xSteps.push(!isNaN(l)&&l):isNaN(l)||(this.xSteps[0]=l),this.xHighestCompleteStep.push(0)},r.prototype.handleStepPoint=function(t,n){if(n)if(this.xVal[t]!==this.xVal[t+1]){this.xSteps[t]=I([this.xVal[t],this.xVal[t+1]],n,0)/tt(this.xPct[t],this.xPct[t+1]);var f=(this.xVal[t+1]-this.xVal[t])/this.xNumSteps[t],l=Math.ceil(Number(f.toFixed(3))-1),g=this.xVal[t]+this.xNumSteps[t]*l;this.xHighestCompleteStep[t]=g}else this.xSteps[t]=this.xHighestCompleteStep[t]=this.xVal[t]},r}(),Nt={to:function(r){return r===void 0?"":r.toFixed(2)},from:Number},st={target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",touchArea:"touch-area",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",connects:"connects",ltr:"ltr",rtl:"rtl",textDirectionLtr:"txt-dir-ltr",textDirectionRtl:"txt-dir-rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"},J={tooltips:".__tooltips",aria:".__aria"};function ht(r,t){if(!j(t))throw new Error("noUiSlider: 'step' is not numeric.");r.singleStep=t}function xt(r,t){if(!j(t))throw new Error("noUiSlider: 'keyboardPageMultiplier' is not numeric.");r.keyboardPageMultiplier=t}function Mt(r,t){if(!j(t))throw new Error("noUiSlider: 'keyboardMultiplier' is not numeric.");r.keyboardMultiplier=t}function _t(r,t){if(!j(t))throw new Error("noUiSlider: 'keyboardDefaultStep' is not numeric.");r.keyboardDefaultStep=t}function lt(r,t){if(typeof t!="object"||Array.isArray(t))throw new Error("noUiSlider: 'range' is not an object.");if(t.min===void 0||t.max===void 0)throw new Error("noUiSlider: Missing 'min' or 'max' in 'range'.");r.spectrum=new At(t,r.snap||!1,r.singleStep)}function v(r,t){if(t=c(t),!Array.isArray(t)||!t.length)throw new Error("noUiSlider: 'start' option is incorrect.");r.handles=t.length,r.start=t}function R(r,t){if(typeof t!="boolean")throw new Error("noUiSlider: 'snap' option must be a boolean.");r.snap=t}function pe(r,t){if(typeof t!="boolean")throw new Error("noUiSlider: 'animate' option must be a boolean.");r.animate=t}function Ie(r,t){if(typeof t!="number")throw new Error("noUiSlider: 'animationDuration' option must be a number.");r.animationDuration=t}function Qe(r,t){var n,f=[!1];if(t==="lower"?t=[!0,!1]:t==="upper"&&(t=[!1,!0]),t===!0||t===!1){for(n=1;n<r.handles;n++)f.push(t);f.push(!1)}else{if(!Array.isArray(t)||!t.length||t.length!==r.handles+1)throw new Error("noUiSlider: 'connect' option doesn't match handle count.");f=t}r.connect=f}function Xe(r,t){switch(t){case"horizontal":r.ort=0;break;case"vertical":r.ort=1;break;default:throw new Error("noUiSlider: 'orientation' option is invalid.")}}function fe(r,t){if(!j(t))throw new Error("noUiSlider: 'margin' option must be numeric.");t!==0&&(r.margin=r.spectrum.getDistance(t))}function Ye(r,t){if(!j(t))throw new Error("noUiSlider: 'limit' option must be numeric.");if(r.limit=r.spectrum.getDistance(t),!r.limit||r.handles<2)throw new Error("noUiSlider: 'limit' option is only supported on linear sliders with 2 or more handles.")}function Ge(r,t){var n;if(!j(t)&&!Array.isArray(t))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(Array.isArray(t)&&t.length!==2&&!j(t[0])&&!j(t[1]))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(t!==0){for(Array.isArray(t)||(t=[t,t]),r.padding=[r.spectrum.getDistance(t[0]),r.spectrum.getDistance(t[1])],n=0;n<r.spectrum.xNumSteps.length-1;n++)if(r.padding[0][n]<0||r.padding[1][n]<0)throw new Error("noUiSlider: 'padding' option must be a positive number(s).");var f=t[0]+t[1],l=r.spectrum.xVal[0];if(f/(r.spectrum.xVal[r.spectrum.xVal.length-1]-l)>1)throw new Error("noUiSlider: 'padding' option must not exceed 100% of the range.")}}function Je(r,t){switch(t){case"ltr":r.dir=0;break;case"rtl":r.dir=1;break;default:throw new Error("noUiSlider: 'direction' option was not recognized.")}}function We(r,t){if(typeof t!="string")throw new Error("noUiSlider: 'behaviour' must be a string containing options.");var n=t.indexOf("tap")>=0,f=t.indexOf("drag")>=0,l=t.indexOf("fixed")>=0,g=t.indexOf("snap")>=0,O=t.indexOf("hover")>=0,W=t.indexOf("unconstrained")>=0,Q=t.indexOf("drag-all")>=0,wt=t.indexOf("smooth-steps")>=0;if(l){if(r.handles!==2)throw new Error("noUiSlider: 'fixed' behaviour must be used with 2 handles");fe(r,r.start[1]-r.start[0])}if(W&&(r.margin||r.limit))throw new Error("noUiSlider: 'unconstrained' behaviour cannot be used with margin or limit");r.events={tap:n||g,drag:f,dragAll:Q,smoothSteps:wt,fixed:l,snap:g,hover:O,unconstrained:W}}function Ke(r,t){if(t!==!1)if(t===!0||C(t)){r.tooltips=[];for(var n=0;n<r.handles;n++)r.tooltips.push(t)}else{if((t=c(t)).length!==r.handles)throw new Error("noUiSlider: must pass a formatter for all handles.");t.forEach(function(f){if(typeof f!="boolean"&&!C(f))throw new Error("noUiSlider: 'tooltips' must be passed a formatter or 'false'.")}),r.tooltips=t}}function Ze(r,t){if(t.length!==r.handles)throw new Error("noUiSlider: must pass a attributes for all handles.");r.handleAttributes=t}function tr(r,t){if(!C(t))throw new Error("noUiSlider: 'ariaFormat' requires 'to' method.");r.ariaFormat=t}function er(r,t){if(!M(t))throw new Error("noUiSlider: 'format' requires 'to' and 'from' methods.");r.format=t}function rr(r,t){if(typeof t!="boolean")throw new Error("noUiSlider: 'keyboardSupport' option must be a boolean.");r.keyboardSupport=t}function or(r,t){r.documentElement=t}function ir(r,t){if(typeof t!="string"&&t!==!1)throw new Error("noUiSlider: 'cssPrefix' must be a string or `false`.");r.cssPrefix=t}function ar(r,t){if(typeof t!="object")throw new Error("noUiSlider: 'cssClasses' must be an object.");typeof r.cssPrefix=="string"?(r.cssClasses={},Object.keys(t).forEach(function(n){r.cssClasses[n]=r.cssPrefix+t[n]})):r.cssClasses=t}function me(r){var t={margin:null,limit:null,padding:null,animate:!0,animationDuration:300,ariaFormat:Nt,format:Nt},n={step:{r:!1,t:ht},keyboardPageMultiplier:{r:!1,t:xt},keyboardMultiplier:{r:!1,t:Mt},keyboardDefaultStep:{r:!1,t:_t},start:{r:!0,t:v},connect:{r:!0,t:Qe},direction:{r:!0,t:Je},snap:{r:!1,t:R},animate:{r:!1,t:pe},animationDuration:{r:!1,t:Ie},range:{r:!0,t:lt},orientation:{r:!1,t:Xe},margin:{r:!1,t:fe},limit:{r:!1,t:Ye},padding:{r:!1,t:Ge},behaviour:{r:!0,t:We},ariaFormat:{r:!1,t:tr},format:{r:!1,t:er},tooltips:{r:!1,t:Ke},keyboardSupport:{r:!0,t:rr},documentElement:{r:!1,t:or},cssPrefix:{r:!0,t:ir},cssClasses:{r:!0,t:ar},handleAttributes:{r:!1,t:Ze}},f={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",keyboardSupport:!0,cssPrefix:"noUi-",cssClasses:st,keyboardPageMultiplier:5,keyboardMultiplier:1,keyboardDefaultStep:10};r.format&&!r.ariaFormat&&(r.ariaFormat=r.format),Object.keys(n).forEach(function(Q){if(V(r[Q])||f[Q]!==void 0)n[Q].t(t,V(r[Q])?r[Q]:f[Q]);else if(n[Q].r)throw new Error("noUiSlider: '"+Q+"' is required.")}),t.pips=r.pips;var l=document.createElement("div"),g=l.style.msTransform!==void 0,O=l.style.transform!==void 0;t.transformRule=O?"transform":g?"msTransform":"webkitTransform";var W=[["left","top"],["right","bottom"]];return t.style=W[t.dir][t.ort],t}function nr(r,t,n){var f,l,g,O,W,Q=yt(),wt=ct()&&q(),ot=r,y=t.spectrum,Pt=[],X=[],ft=[],Yt=0,Et={},Bt=r.ownerDocument,Tt=t.documentElement||Bt.documentElement,zt=Bt.body,lr=Bt.dir==="rtl"||t.ort===1?0:100;function Vt(e,o){var i=Bt.createElement("div");return o&&m(i,o),e.appendChild(i),i}function ur(e,o){var i=Vt(e,t.cssClasses.origin),a=Vt(i,t.cssClasses.handle);if(Vt(a,t.cssClasses.touchArea),a.setAttribute("data-handle",String(o)),t.keyboardSupport&&(a.setAttribute("tabindex","0"),a.addEventListener("keydown",function(s){return Pr(s,o)})),t.handleAttributes!==void 0){var u=t.handleAttributes[o];Object.keys(u).forEach(function(s){a.setAttribute(s,u[s])})}return a.setAttribute("role","slider"),a.setAttribute("aria-orientation",t.ort?"vertical":"horizontal"),o===0?m(a,t.cssClasses.handleLower):o===t.handles-1&&m(a,t.cssClasses.handleUpper),i}function ve(e,o){return!!o&&Vt(e,t.cssClasses.connect)}function cr(e,o){var i=Vt(o,t.cssClasses.connects);l=[],(g=[]).push(ve(i,e[0]));for(var a=0;a<t.handles;a++)l.push(ur(o,a)),ft[a]=a,g.push(ve(i,e[a+1]))}function dr(e){return m(e,t.cssClasses.target),t.dir===0?m(e,t.cssClasses.ltr):m(e,t.cssClasses.rtl),t.ort===0?m(e,t.cssClasses.horizontal):m(e,t.cssClasses.vertical),m(e,getComputedStyle(e).direction==="rtl"?t.cssClasses.textDirectionRtl:t.cssClasses.textDirectionLtr),Vt(e,t.cssClasses.base)}function pr(e,o){return!(!t.tooltips||!t.tooltips[o])&&Vt(e.firstChild,t.cssClasses.tooltip)}function ge(){return ot.hasAttribute("disabled")}function Gt(e){return l[e].hasAttribute("disabled")}function Jt(){W&&(jt("update"+J.tooltips),W.forEach(function(e){e&&N(e)}),W=null)}function ye(){Jt(),W=l.map(pr),ee("update"+J.tooltips,function(e,o,i){if(W&&t.tooltips&&W[o]!==!1){var a=e[o];t.tooltips[o]!==!0&&(a=t.tooltips[o].to(i[o])),W[o].innerHTML=a}})}function fr(){jt("update"+J.aria),ee("update"+J.aria,function(e,o,i,a,u){ft.forEach(function(s){var x=l[s],p=$t(X,s,0,!0,!0,!0),Z=$t(X,s,100,!0,!0,!0),Y=u[s],T=String(t.ariaFormat.to(i[s]));p=y.fromStepping(p).toFixed(1),Z=y.fromStepping(Z).toFixed(1),Y=y.fromStepping(Y).toFixed(1),x.children[0].setAttribute("aria-valuemin",p),x.children[0].setAttribute("aria-valuemax",Z),x.children[0].setAttribute("aria-valuenow",Y),x.children[0].setAttribute("aria-valuetext",T)})})}function mr(e){if(e.mode===d.PipsMode.Range||e.mode===d.PipsMode.Steps)return y.xVal;if(e.mode===d.PipsMode.Count){if(e.values<2)throw new Error("noUiSlider: 'values' (>= 2) required for mode 'count'.");for(var o=e.values-1,i=100/o,a=[];o--;)a[o]=o*i;return a.push(100),be(a,e.stepped)}return e.mode===d.PipsMode.Positions?be(e.values,e.stepped):e.mode===d.PipsMode.Values?e.stepped?e.values.map(function(u){return y.fromStepping(y.getStep(y.toStepping(u)))}):e.values:[]}function be(e,o){return e.map(function(i){return y.fromStepping(o?y.getStep(i):i)})}function hr(e){function o(Y,T){return Number((Y+T).toFixed(7))}var i=mr(e),a={},u=y.xVal[0],s=y.xVal[y.xVal.length-1],x=!1,p=!1,Z=0;return(i=U(i.slice().sort(function(Y,T){return Y-T})))[0]!==u&&(i.unshift(u),x=!0),i[i.length-1]!==s&&(i.push(s),p=!0),i.forEach(function(Y,T){var $,B,it,pt,et,Ne,ie,Ae,Me,_e,ae=Y,Lt=i[T+1],Ue=e.mode===d.PipsMode.Steps;for(Ue&&($=y.xNumSteps[T]),$||($=Lt-ae),Lt===void 0&&(Lt=ae),$=Math.max($,1e-7),B=ae;B<=Lt;B=o(B,$)){for(Ae=(et=(pt=y.toStepping(B))-Z)/(e.density||1),_e=et/(Me=Math.round(Ae)),it=1;it<=Me;it+=1)a[(Ne=Z+it*_e).toFixed(5)]=[y.fromStepping(Ne),0];ie=i.indexOf(B)>-1?d.PipsType.LargeValue:Ue?d.PipsType.SmallValue:d.PipsType.NoValue,!T&&x&&B!==Lt&&(ie=0),B===Lt&&p||(a[pt.toFixed(5)]=[B,ie]),Z=pt}}),a}function vr(e,o,i){var a,u,s=Bt.createElement("div"),x=((a={})[d.PipsType.None]="",a[d.PipsType.NoValue]=t.cssClasses.valueNormal,a[d.PipsType.LargeValue]=t.cssClasses.valueLarge,a[d.PipsType.SmallValue]=t.cssClasses.valueSub,a),p=((u={})[d.PipsType.None]="",u[d.PipsType.NoValue]=t.cssClasses.markerNormal,u[d.PipsType.LargeValue]=t.cssClasses.markerLarge,u[d.PipsType.SmallValue]=t.cssClasses.markerSub,u),Z=[t.cssClasses.valueHorizontal,t.cssClasses.valueVertical],Y=[t.cssClasses.markerHorizontal,t.cssClasses.markerVertical];function T(B,it){var pt=it===t.cssClasses.value,et=pt?x:p;return it+" "+(pt?Z:Y)[t.ort]+" "+et[B]}function $(B,it,pt){if((pt=o?o(it,pt):pt)!==d.PipsType.None){var et=Vt(s,!1);et.className=T(pt,t.cssClasses.marker),et.style[t.style]=B+"%",pt>d.PipsType.NoValue&&((et=Vt(s,!1)).className=T(pt,t.cssClasses.value),et.setAttribute("data-value",String(it)),et.style[t.style]=B+"%",et.innerHTML=String(i.to(it)))}}return m(s,t.cssClasses.pips),m(s,t.ort===0?t.cssClasses.pipsHorizontal:t.cssClasses.pipsVertical),Object.keys(e).forEach(function(B){$(B,e[B][0],e[B][1])}),s}function Wt(){O&&(N(O),O=null)}function Kt(e){Wt();var o=hr(e),i=e.filter,a=e.format||{to:function(u){return String(Math.round(u))}};return O=ot.appendChild(vr(o,i,a))}function xe(){var e=f.getBoundingClientRect(),o="offset"+["Width","Height"][t.ort];return t.ort===0?e.width||f[o]:e.height||f[o]}function Ut(e,o,i,a){var u=function(x){var p=gr(x,a.pageOffset,a.target||o);return!!p&&!(ge()&&!a.doNotReject)&&!(_(ot,t.cssClasses.tap)&&!a.doNotReject)&&!(e===Q.start&&p.buttons!==void 0&&p.buttons>1)&&(!a.hover||!p.buttons)&&(wt||p.preventDefault(),p.calcPoint=p.points[t.ort],void i(p,a))},s=[];return e.split(" ").forEach(function(x){o.addEventListener(x,u,!!wt&&{passive:!0}),s.push([x,u])}),s}function gr(e,o,i){var a=e.type.indexOf("touch")===0,u=e.type.indexOf("mouse")===0,s=e.type.indexOf("pointer")===0,x=0,p=0;if(e.type.indexOf("MSPointer")===0&&(s=!0),e.type==="mousedown"&&!e.buttons&&!e.touches)return!1;if(a){var Z=function($){var B=$.target;return B===i||i.contains(B)||e.composed&&e.composedPath().shift()===i};if(e.type==="touchstart"){var Y=Array.prototype.filter.call(e.touches,Z);if(Y.length>1)return!1;x=Y[0].pageX,p=Y[0].pageY}else{var T=Array.prototype.find.call(e.changedTouches,Z);if(!T)return!1;x=T.pageX,p=T.pageY}}return o=o||bt(Bt),(u||s)&&(x=e.clientX+o.x,p=e.clientY+o.y),e.pageOffset=o,e.points=[x,p],e.cursor=u||s,e}function Se(e){var o=100*(e-L(f,t.ort))/xe();return o=G(o),t.dir?100-o:o}function yr(e){var o=100,i=!1;return l.forEach(function(a,u){if(!Gt(u)){var s=X[u],x=Math.abs(s-e);(x<o||x<=o&&e>s||x===100&&o===100)&&(i=u,o=x)}}),i}function br(e,o){e.type==="mouseout"&&e.target.nodeName==="HTML"&&e.relatedTarget===null&&Zt(e,o)}function xr(e,o){if(navigator.appVersion.indexOf("MSIE 9")===-1&&e.buttons===0&&o.buttonsProperty!==0)return Zt(e,o);var i=(t.dir?-1:1)*(e.calcPoint-o.startCalcPoint);we(i>0,100*i/o.baseSize,o.locations,o.handleNumbers,o.connect)}function Zt(e,o){o.handle&&(F(o.handle,t.cssClasses.active),Yt-=1),o.listeners.forEach(function(i){Tt.removeEventListener(i[0],i[1])}),Yt===0&&(F(ot,t.cssClasses.drag),oe(),e.cursor&&(zt.style.cursor="",zt.removeEventListener("selectstart",A))),t.events.smoothSteps&&(o.handleNumbers.forEach(function(i){Ft(i,X[i],!0,!0,!1,!1)}),o.handleNumbers.forEach(function(i){K("update",i)})),o.handleNumbers.forEach(function(i){K("change",i),K("set",i),K("end",i)})}function te(e,o){if(!o.handleNumbers.some(Gt)){var i;o.handleNumbers.length===1&&(i=l[o.handleNumbers[0]].children[0],Yt+=1,m(i,t.cssClasses.active)),e.stopPropagation();var a=[],u=Ut(Q.move,Tt,xr,{target:e.target,handle:i,connect:o.connect,listeners:a,startCalcPoint:e.calcPoint,baseSize:xe(),pageOffset:e.pageOffset,handleNumbers:o.handleNumbers,buttonsProperty:e.buttons,locations:X.slice()}),s=Ut(Q.end,Tt,Zt,{target:e.target,handle:i,listeners:a,doNotReject:!0,handleNumbers:o.handleNumbers}),x=Ut("mouseout",Tt,br,{target:e.target,handle:i,listeners:a,doNotReject:!0,handleNumbers:o.handleNumbers});a.push.apply(a,u.concat(s,x)),e.cursor&&(zt.style.cursor=getComputedStyle(e.target).cursor,l.length>1&&m(ot,t.cssClasses.drag),zt.addEventListener("selectstart",A,!1)),o.handleNumbers.forEach(function(p){K("start",p)})}}function Sr(e){e.stopPropagation();var o=Se(e.calcPoint),i=yr(o);i!==!1&&(t.events.snap||z(ot,t.cssClasses.tap,t.animationDuration),Ft(i,o,!0,!0),oe(),K("slide",i,!0),K("update",i,!0),t.events.snap?te(e,{handleNumbers:[i]}):(K("change",i,!0),K("set",i,!0)))}function wr(e){var o=Se(e.calcPoint),i=y.getStep(o),a=y.fromStepping(i);Object.keys(Et).forEach(function(u){u.split(".")[0]==="hover"&&Et[u].forEach(function(s){s.call(Ht,a)})})}function Pr(e,o){if(ge()||Gt(o))return!1;var i=["Left","Right"],a=["Down","Up"],u=["PageDown","PageUp"],s=["Home","End"];t.dir&&!t.ort?i.reverse():t.ort&&!t.dir&&(a.reverse(),u.reverse());var x,p=e.key.replace("Arrow",""),Z=p===u[0],Y=p===u[1],T=p===a[0]||p===i[0]||Z,$=p===a[1]||p===i[1]||Y,B=p===s[0],it=p===s[1];if(!(T||$||B||it))return!0;if(e.preventDefault(),$||T){var pt=T?0:1,et=Ce(o)[pt];if(et===null)return!1;et===!1&&(et=y.getDefaultStep(X[o],T,t.keyboardDefaultStep)),et*=Y||Z?t.keyboardPageMultiplier:t.keyboardMultiplier,et=Math.max(et,1e-7),et*=T?-1:1,x=Pt[o]+et}else x=it?t.spectrum.xVal[t.spectrum.xVal.length-1]:t.spectrum.xVal[0];return Ft(o,y.toStepping(x),!0,!0),K("slide",o),K("update",o),K("change",o),K("set",o),!1}function Er(e){e.fixed||l.forEach(function(o,i){Ut(Q.start,o.children[0],te,{handleNumbers:[i]})}),e.tap&&Ut(Q.start,f,Sr,{}),e.hover&&Ut(Q.move,f,wr,{hover:!0}),e.drag&&g.forEach(function(o,i){if(o!==!1&&i!==0&&i!==g.length-1){var a=l[i-1],u=l[i],s=[o],x=[a,u],p=[i-1,i];m(o,t.cssClasses.draggable),e.fixed&&(s.push(a.children[0]),s.push(u.children[0])),e.dragAll&&(x=l,p=ft),s.forEach(function(Z){Ut(Q.start,Z,te,{handles:x,handleNumbers:p,connect:o})})}})}function ee(e,o){Et[e]=Et[e]||[],Et[e].push(o),e.split(".")[0]==="update"&&l.forEach(function(i,a){K("update",a)})}function Vr(e){return e===J.aria||e===J.tooltips}function jt(e){var o=e&&e.split(".")[0],i=o?e.substring(o.length):e;Object.keys(Et).forEach(function(a){var u=a.split(".")[0],s=a.substring(u.length);o&&o!==u||i&&i!==s||Vr(s)&&i!==s||delete Et[a]})}function K(e,o,i){Object.keys(Et).forEach(function(a){var u=a.split(".")[0];e===u&&Et[a].forEach(function(s){s.call(Ht,Pt.map(t.format.to),o,Pt.slice(),i||!1,X.slice(),Ht)})})}function $t(e,o,i,a,u,s,x){var p;return l.length>1&&!t.events.unconstrained&&(a&&o>0&&(p=y.getAbsoluteDistance(e[o-1],t.margin,!1),i=Math.max(i,p)),u&&o<l.length-1&&(p=y.getAbsoluteDistance(e[o+1],t.margin,!0),i=Math.min(i,p))),l.length>1&&t.limit&&(a&&o>0&&(p=y.getAbsoluteDistance(e[o-1],t.limit,!1),i=Math.min(i,p)),u&&o<l.length-1&&(p=y.getAbsoluteDistance(e[o+1],t.limit,!0),i=Math.max(i,p))),t.padding&&(o===0&&(p=y.getAbsoluteDistance(0,t.padding[0],!1),i=Math.max(i,p)),o===l.length-1&&(p=y.getAbsoluteDistance(100,t.padding[1],!0),i=Math.min(i,p))),x||(i=y.getStep(i)),!((i=G(i))===e[o]&&!s)&&i}function re(e,o){var i=t.ort;return(i?o:e)+", "+(i?e:o)}function we(e,o,i,a,u){var s=i.slice(),x=a[0],p=t.events.smoothSteps,Z=[!e,e],Y=[e,!e];a=a.slice(),e&&a.reverse(),a.length>1?a.forEach(function($,B){var it=$t(s,$,s[$]+o,Z[B],Y[B],!1,p);it===!1?o=0:(o=it-s[$],s[$]=it)}):Z=Y=[!0];var T=!1;a.forEach(function($,B){T=Ft($,i[$]+o,Z[B],Y[B],!1,p)||T}),T&&(a.forEach(function($){K("update",$),K("slide",$)}),u!=null&&K("drag",x))}function Pe(e,o){return t.dir?100-e-o:e}function kr(e,o){X[e]=o,Pt[e]=y.fromStepping(o);var i="translate("+re(Pe(o,0)-lr+"%","0")+")";l[e].style[t.transformRule]=i,Ee(e),Ee(e+1)}function oe(){ft.forEach(function(e){var o=X[e]>50?-1:1,i=3+(l.length+o*e);l[e].style.zIndex=String(i)})}function Ft(e,o,i,a,u,s){return u||(o=$t(X,e,o,i,a,!1,s)),o!==!1&&(kr(e,o),!0)}function Ee(e){if(g[e]){var o=0,i=100;e!==0&&(o=X[e-1]),e!==g.length-1&&(i=X[e]);var a=i-o,u="translate("+re(Pe(o,a)+"%","0")+")",s="scale("+re(a/100,"1")+")";g[e].style[t.transformRule]=u+" "+s}}function Ve(e,o){return e===null||e===!1||e===void 0?X[o]:(typeof e=="number"&&(e=String(e)),(e=t.format.from(e))!==!1&&(e=y.toStepping(e)),e===!1||isNaN(e)?X[o]:e)}function qt(e,o,i){var a=c(e),u=X[0]===void 0;o=o===void 0||o,t.animate&&!u&&z(ot,t.cssClasses.tap,t.animationDuration),ft.forEach(function(p){Ft(p,Ve(a[p],p),!0,!1,i)});var s=ft.length===1?0:1;if(u&&y.hasNoSize()&&(i=!0,X[0]=0,ft.length>1)){var x=100/(ft.length-1);ft.forEach(function(p){X[p]=p*x})}for(;s<ft.length;++s)ft.forEach(function(p){Ft(p,X[p],!0,!0,i)});oe(),ft.forEach(function(p){K("update",p),a[p]!==null&&o&&K("set",p)})}function Cr(e){qt(t.start,e)}function Nr(e,o,i,a){if(!((e=Number(e))>=0&&e<ft.length))throw new Error("noUiSlider: invalid handle number, got: "+e);Ft(e,Ve(o,e),!0,!0,a),K("update",e),i&&K("set",e)}function ke(e){if(e===void 0&&(e=!1),e)return Pt.length===1?Pt[0]:Pt.slice(0);var o=Pt.map(t.format.to);return o.length===1?o[0]:o}function Ar(){for(jt(J.aria),jt(J.tooltips),Object.keys(t.cssClasses).forEach(function(e){F(ot,t.cssClasses[e])});ot.firstChild;)ot.removeChild(ot.firstChild);delete ot.noUiSlider}function Ce(e){var o=X[e],i=y.getNearbySteps(o),a=Pt[e],u=i.thisStep.step,s=null;if(t.snap)return[a-i.stepBefore.startValue||null,i.stepAfter.startValue-a||null];u!==!1&&a+u>i.stepAfter.startValue&&(u=i.stepAfter.startValue-a),s=a>i.thisStep.startValue?i.thisStep.step:i.stepBefore.step!==!1&&a-i.stepBefore.highestStep,o===100?u=null:o===0&&(s=null);var x=y.countStepDecimals();return u!==null&&u!==!1&&(u=Number(u.toFixed(x))),s!==null&&s!==!1&&(s=Number(s.toFixed(x))),[s,u]}function Mr(){return ft.map(Ce)}function _r(e,o){var i=ke(),a=["margin","limit","padding","range","animate","snap","step","format","pips","tooltips"];a.forEach(function(s){e[s]!==void 0&&(n[s]=e[s])});var u=me(n);a.forEach(function(s){e[s]!==void 0&&(t[s]=u[s])}),y=u.spectrum,t.margin=u.margin,t.limit=u.limit,t.padding=u.padding,t.pips?Kt(t.pips):Wt(),t.tooltips?ye():Jt(),X=[],qt(V(e.start)?e.start:i,o)}function Ur(){f=dr(ot),cr(t.connect,f),Er(t.events),qt(t.start),t.pips&&Kt(t.pips),t.tooltips&&ye(),fr()}Ur();var Ht={destroy:Ar,steps:Mr,on:ee,off:jt,get:ke,set:qt,setHandle:Nr,reset:Cr,__moveHandles:function(e,o,i){we(e,o,X,i)},options:n,updateOptions:_r,target:ot,removePips:Wt,removeTooltips:Jt,getPositions:function(){return X.slice()},getTooltips:function(){return W},getOrigins:function(){return l},pips:Kt};return Ht}function he(r,t){if(!r||!r.nodeName)throw new Error("noUiSlider: create requires a single element, got: "+r);if(r.noUiSlider)throw new Error("noUiSlider: Slider was already initialized.");var n=nr(r,me(t),t);return r.noUiSlider=n,n}var sr={__spectrum:At,cssClasses:st,create:he};d.create=he,d.cssClasses=st,d.default=sr,Object.defineProperty(d,"__esModule",{value:!0})})(S)}));function Te(k,S){if(!Array.isArray(k)||!Array.isArray(S))return!1;const d=S.slice().sort();return k.length===S.length&&k.slice().sort().every(function(M,C){return M===d[C]})}var le={name:"Slider",emits:["input","update:modelValue","start","slide","drag","update","change","set","end"],props:{value:{validator:function(k){return S=>typeof S=="number"||S instanceof Array||S==null||S===!1},required:!1},modelValue:{validator:function(k){return S=>typeof S=="number"||S instanceof Array||S==null||S===!1},required:!1},id:{type:[String,Number],required:!1},disabled:{type:Boolean,required:!1,default:!1},min:{type:Number,required:!1,default:0},max:{type:Number,required:!1,default:100},step:{type:Number,required:!1,default:1},orientation:{type:String,required:!1,default:"horizontal"},direction:{type:String,required:!1,default:"ltr"},tooltips:{type:Boolean,required:!1,default:!0},options:{type:Object,required:!1,default:()=>({})},merge:{type:Number,required:!1,default:-1},format:{type:[Object,Function,Boolean],required:!1,default:null},classes:{type:Object,required:!1,default:()=>({})},showTooltip:{type:String,required:!1,default:"always"},tooltipPosition:{type:String,required:!1,default:null},lazy:{type:Boolean,required:!1,default:!0},ariaLabelledby:{type:String,required:!1,default:void 0},aria:{required:!1,type:Object,default:()=>({})}},setup(k,S){const d=function(V,A,U){const{value:w,modelValue:L,min:j}=Rt(V);let z=L&&L.value!==void 0?L:w;const G=kt(z.value);if(It(z.value)&&(z=kt(j.value)),Array.isArray(z.value)&&z.value.length==0)throw new Error("Slider v-model must not be an empty array");return{value:z,initialValue:G}}(k),M=function(V,A,U){const{classes:w,showTooltip:L,tooltipPosition:j,orientation:z}=Rt(V),G=St(()=>({target:"slider-target",focused:"slider-focused",tooltipFocus:"slider-tooltip-focus",tooltipDrag:"slider-tooltip-drag",ltr:"slider-ltr",rtl:"slider-rtl",horizontal:"slider-horizontal",vertical:"slider-vertical",textDirectionRtl:"slider-txt-dir-rtl",textDirectionLtr:"slider-txt-dir-ltr",base:"slider-base",connects:"slider-connects",connect:"slider-connect",origin:"slider-origin",handle:"slider-handle",handleLower:"slider-handle-lower",handleUpper:"slider-handle-upper",touchArea:"slider-touch-area",tooltip:"slider-tooltip",tooltipTop:"slider-tooltip-top",tooltipBottom:"slider-tooltip-bottom",tooltipLeft:"slider-tooltip-left",tooltipRight:"slider-tooltip-right",tooltipHidden:"slider-tooltip-hidden",active:"slider-active",draggable:"slider-draggable",tap:"slider-state-tap",drag:"slider-state-drag",pips:"slider-pips",pipsHorizontal:"slider-pips-horizontal",pipsVertical:"slider-pips-vertical",marker:"slider-marker",markerHorizontal:"slider-marker-horizontal",markerVertical:"slider-marker-vertical",markerNormal:"slider-marker-normal",markerLarge:"slider-marker-large",markerSub:"slider-marker-sub",value:"slider-value",valueHorizontal:"slider-value-horizontal",valueVertical:"slider-value-vertical",valueNormal:"slider-value-normal",valueLarge:"slider-value-large",valueSub:"slider-value-sub",...w.value}));return{classList:St(()=>{const c={...G.value};return Object.keys(c).forEach(h=>{c[h]=Array.isArray(c[h])?c[h].filter(m=>m!==null).join(" "):c[h]}),L.value!=="always"&&(c.target+=` ${L.value==="drag"?c.tooltipDrag:c.tooltipFocus}`),z.value==="horizontal"&&(c.tooltip+=j.value==="bottom"?` ${c.tooltipBottom}`:` ${c.tooltipTop}`),z.value==="vertical"&&(c.tooltip+=j.value==="right"?` ${c.tooltipRight}`:` ${c.tooltipLeft}`),c})}}(k),C=function(V,A,U){const{format:w,step:L}=Rt(V),j=U.value,z=U.classList,G=St(()=>w&&w.value?typeof w.value=="function"?{to:w.value}:De({...w.value}):De({decimals:L.value>=0?0:2})),c=St(()=>Array.isArray(j.value)?j.value.map(h=>G.value):G.value);return{tooltipFormat:G,tooltipsFormat:c,tooltipsMerge:(h,m,F)=>{var _=getComputedStyle(h).direction==="rtl",bt=h.noUiSlider.options.direction==="rtl",yt=h.noUiSlider.options.orientation==="vertical",q=h.noUiSlider.getTooltips(),ct=h.noUiSlider.getOrigins();q.forEach(function(tt,I){tt&&ct[I].appendChild(tt)}),h.noUiSlider.on("update",function(tt,I,b,gt,H){var dt=[[]],mt=[[]],nt=[[]],E=0;q[0]&&(dt[0][0]=0,mt[0][0]=H[0],nt[0][0]=G.value.to(parseFloat(tt[0])));for(var rt=1;rt<tt.length;rt++)(!q[rt]||tt[rt]-tt[rt-1]>m)&&(dt[++E]=[],nt[E]=[],mt[E]=[]),q[rt]&&(dt[E].push(rt),nt[E].push(G.value.to(parseFloat(tt[rt]))),mt[E].push(H[rt]));dt.forEach(function(At,Nt){for(var st=At.length,J=0;J<st;J++){var ht=At[J];if(J===st-1){var xt=0;mt[Nt].forEach(function(v){xt+=1e3-v});var Mt=yt?"bottom":"right",_t=bt?0:st-1,lt=1e3-mt[Nt][_t];xt=(_&&!yt?100:0)+xt/st-lt,q[ht].innerHTML=nt[Nt].join(F),q[ht].style.display="block",q[ht].style[Mt]=xt+"%",z.value.tooltipHidden.split(" ").forEach(v=>{q[ht].classList.contains(v)&&q[ht].classList.remove(v)})}else q[ht].style.display="none",z.value.tooltipHidden.split(" ").forEach(v=>{q[ht].classList.add(v)})}})})}}}(k,0,{value:d.value,classList:M.classList}),N=function(V,A,U){const{orientation:w,direction:L,tooltips:j,step:z,min:G,max:c,merge:h,id:m,disabled:F,options:_,classes:bt,format:yt,lazy:q,ariaLabelledby:ct,aria:tt}=Rt(V),I=U.value,b=U.initialValue,gt=U.tooltipsFormat,H=U.tooltipsMerge,dt=U.tooltipFormat,mt=U.classList,nt=kt(null),E=kt(null),rt=kt(!1),At=St(()=>{let v={cssPrefix:"",cssClasses:mt.value,orientation:w.value,direction:L.value,tooltips:!!j.value&&gt.value,connect:"lower",start:It(I.value)?G.value:I.value,range:{min:G.value,max:c.value}};if(z.value>0&&(v.step=z.value),Array.isArray(I.value)&&(v.connect=!0),ct&&ct.value||tt&&Object.keys(tt.value).length){let R=Array.isArray(I.value)?I.value:[I.value];v.handleAttributes=R.map(pe=>Object.assign({},tt.value,ct&&ct.value?{"aria-labelledby":ct.value}:{}))}return yt.value&&(v.ariaFormat=dt.value),v}),Nt=St(()=>{let v={id:m&&m.value?m.value:void 0};return F.value&&(v.disabled=!0),v}),st=St(()=>Array.isArray(I.value)),J=()=>{let v=E.value.get();return Array.isArray(v)?v.map(R=>parseFloat(R)):parseFloat(v)},ht=function(v){let R=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];E.value.set(v,R)},xt=v=>{A.emit("input",v),A.emit("update:modelValue",v),A.emit("update",v)},Mt=()=>{E.value=Kr.create(nt.value,Object.assign({},At.value,_.value)),j.value&&st.value&&h.value>=0&&H(nt.value,h.value," - "),E.value.on("set",()=>{const v=J();A.emit("change",v),A.emit("set",v),q.value&&xt(v)}),E.value.on("update",()=>{if(!rt.value)return;const v=J();st.value&&Te(I.value,v)||!st.value&&I.value==v?A.emit("update",v):q.value||xt(v)}),E.value.on("start",()=>{A.emit("start",J())}),E.value.on("end",()=>{A.emit("end",J())}),E.value.on("slide",()=>{A.emit("slide",J())}),E.value.on("drag",()=>{A.emit("drag",J())}),nt.value.querySelectorAll("[data-handle]").forEach(v=>{v.onblur=()=>{nt.value&&mt.value.focused.split(" ").forEach(R=>{nt.value.classList.remove(R)})},v.onfocus=()=>{mt.value.focused.split(" ").forEach(R=>{nt.value.classList.add(R)})}}),rt.value=!0},_t=()=>{E.value.off(),E.value.destroy(),E.value=null},lt=(v,R)=>{rt.value=!1,_t(),Mt()};return ce(Mt),Br(_t),at(st,lt,{immediate:!1}),at(G,lt,{immediate:!1}),at(c,lt,{immediate:!1}),at(z,lt,{immediate:!1}),at(w,lt,{immediate:!1}),at(L,lt,{immediate:!1}),at(j,lt,{immediate:!1}),at(h,lt,{immediate:!1}),at(yt,lt,{immediate:!1,deep:!0}),at(_,lt,{immediate:!1,deep:!0}),at(bt,lt,{immediate:!1,deep:!0}),at(I,(v,R)=>{R&&(typeof R=="object"&&typeof v=="object"&&v&&Object.keys(R)>Object.keys(v)||typeof R=="object"&&typeof v!="object"||It(v))&&lt()},{immediate:!1}),at(I,v=>{if(It(v))return void ht(G.value,!1);let R=J();st.value&&!Array.isArray(R)&&(R=[R]),(st.value&&!Te(v,R)||!st.value&&v!=R)&&ht(v,!1)},{deep:!0}),{slider:nt,slider$:E,isRange:st,sliderProps:Nt,init:Mt,destroy:_t,refresh:lt,update:ht,reset:()=>{xt(b.value)}}}(k,S,{value:d.value,initialValue:d.initialValue,tooltipFormat:C.tooltipFormat,tooltipsFormat:C.tooltipsFormat,tooltipsMerge:C.tooltipsMerge,classList:M.classList});return{...M,...C,...N}}};le.render=function(k,S,d,M,C,N){return vt(),Ct("div",He(k.sliderProps,{ref:"slider"}),null,16)},le.__file="src/Slider.vue";const Zr=D("h2",{class:"text-xl mb-5 mt-8"},"Цена",-1),to={class:"flex gap-4 mt-4"},eo={class:"w-1/2 relative"},ro=D("span",{class:"absolute top-2 left-3 text-sm text-slate-400"},"от",-1),oo=D("span",{class:"absolute top-2 right-3 text-sm text-slate-400"},"₽",-1),io={class:"w-1/2 relative"},ao=D("span",{class:"absolute top-2 left-3 text-sm text-slate-400"},"до",-1),no=D("span",{class:"absolute top-2 right-3 text-sm text-slate-400"},"₽",-1),so={__name:"FiltersPrice",props:ze(["getProductsBrands"],{rangeValues:{},rangeValuesModifiers:{},productsBrands:{},productsBrandsModifiers:{}}),emits:["update:rangeValues","update:productsBrands"],setup(k){const S=St(()=>({min:P.filters.price.from,max:P.filters.price.to,tooltips:!1,lazy:!1,options:{behaviour:"none"}})),d=Qt(k,"rangeValues"),M=Qt(k,"productsBrands"),{getProductsBrands:C}=k,N=ue("fetchProducts"),V=async()=>{await N(d.value[0],d.value[1]),M.value=C()};return at(()=>P.filters.price,()=>{setTimeout(()=>{d.value=[P.filters.price.from,P.filters.price.to]},100)},{deep:!0}),(A,U)=>(vt(),Ct(Dt,null,[Zr,d.value[0]!==1/0?(vt(),Xt(ut(le),He({key:0,modelValue:d.value,"onUpdate:modelValue":U[0]||(U[0]=w=>d.value=w)},S.value,{onChange:V}),null,16,["modelValue"])):de("",!0),D("div",to,[D("label",eo,[ro,Ot(D("input",{disabled:"",type:"number",class:"w-full px-9 py-2 bg-white border border-slate-300 text-sm shadow-sm placeholder-slate-400 focus:outline-none","onUpdate:modelValue":U[1]||(U[1]=w=>d.value[0]=w)},null,512),[[Fe,d.value[0]]]),oo]),D("label",io,[ao,Ot(D("input",{disabled:"",type:"number",class:"w-full px-9 py-2 bg-white border border-slate-300 text-sm shadow-sm placeholder-slate-400 focus:outline-none","onUpdate:modelValue":U[2]||(U[2]=w=>d.value[1]=w)},null,512),[[Fe,d.value[1]]]),no])])],64))}},lo={class:"col-span-1 sm:col-span-3 lg:col-span-2"},uo={__name:"FiltersBlock",setup(k){const S=kt([P.filters.price.from,P.filters.price.to]),d=kt(""),M=()=>{const N=P.products.map(V=>V.brand).reduce((V,A)=>(V.set(A,(V.get(A)||0)+1),V),new Map);return Object.entries(Object.fromEntries(N.entries()))};return(C,N)=>(vt(),Ct("div",lo,[Be(Jr),Be(so,{"get-products-brands":M,"range-values":S.value,"onUpdate:rangeValues":N[0]||(N[0]=V=>S.value=V),"products-brands":d.value,"onUpdate:productsBrands":N[1]||(N[1]=V=>d.value=V)},null,8,["range-values","products-brands"]),ut(P).filters.searchQuery===""?(vt(),Xt(Ir,{key:0,"get-products-brands":M,"range-values":S.value,"onUpdate:rangeValues":N[2]||(N[2]=V=>S.value=V),"products-brands":d.value,"onUpdate:productsBrands":N[3]||(N[3]=V=>d.value=V)},null,8,["range-values","products-brands"])):de("",!0)]))}},co={class:"mt-10"},po={class:"container"},fo={class:"text-2xl font-bold mb-5"},mo={class:"grid grid-cols-1 sm:grid-cols-8 gap-5"},ho={class:"grid col-span-1 sm:col-span-5 lg:col-span-6 grid-cols-2 md:grid-cols-3 lg:grid-cols-4 sm:gap-1 -mx-2 h-max"},bo={__name:"ProductsView",setup(k){const S=$e();P.products=[];const d=kt(""),M=St(()=>Math.min(...P.products.map(A=>A.price))),C=St(()=>Math.max(...P.products.map(A=>A.price)));let N={};const V=async(A,U,w)=>{try{if(P.loading=!0,N.sortBy=P.filters.sortBy,A&&(N["price[from]"]=A),U&&(N["price[to]"]=U),w&&(N.brand=w),P.filters.searchQuery!==""&&!S.params.category){N.title=`*${P.filters.searchQuery}*`;const{data:L}=await Oe(N);P.products=L,d.value=P.products.length>0?`По запросу: "${P.filters.searchQuery}" найдено ${P.products.length} товаров`:`По запросу: "${P.filters.searchQuery}" ничего не найдено`,Le(),je()}else{N.category=S.params.category;const{data:L}=await Oe(N);P.products=L,Le(),je()}}catch(L){console.error("An error accured: ",L.message)}finally{P.loading=!1}};return Lr("fetchProducts",V),ce(async()=>{await V(),P.filters.price.from=M.value,P.filters.price.to=C.value}),at(()=>S.params.category,async()=>{N={},await V(),P.filters.price.from=M.value,P.filters.price.to=C.value}),at(()=>S.query.title,async()=>{S.params.category||(N={},await V(),P.filters.price.from=M.value,P.filters.price.to=C.value)}),(A,U)=>(vt(),Ct("div",co,[D("div",po,[D("h1",fo,se(ut(P).filters.searchQuery!==""?d.value:ut(S).params.category),1),D("div",mo,[ut(P).products.length>0?(vt(),Xt(uo,{key:0})):de("",!0),D("div",ho,[(vt(!0),Ct(Dt,null,qe(ut(P).products,w=>(vt(),Xt(Dr,{key:w.id,title:w.title,price:w.price,"old-price":w.oldPrice,"image-url":w.imageUrl,"is-added":w.isAdded,"is-favorite":w.isFavorite,onOnClickAdd:L=>ut(Or)(w,ut(P).cart),onAddToFavorites:L=>ut(Tr)(w),onRemoveFromFavorites:L=>ut(jr)(w)},null,8,["title","price","old-price","image-url","is-added","is-favorite","onOnClickAdd","onAddToFavorites","onRemoveFromFavorites"]))),128))])])])]))}};export{bo as default};
